
@{
    ViewData["Title"] = "BM";
}
@using ExpenseProcessingSystem.ViewModels
@model PaginatedList<BMViewModel>
<div class="tab-content-cont m-t-10">
    <div class="tbl-cont">
        <table class="table table-striped tab-tbl">
            <thead>
                <tr>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["AccountCodeSortParm"]">Account Code<p class="btn-xs glyphicon @ViewData["glyph-1"]"></p></a></th>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["AccountGroupSortParm"]">Account Group<p class="btn-xs glyphicon @ViewData["glyph-2"]"></p></a></th>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["GBaseAccountCodeSortParm"]">G-Base Accounts<p class="btn-xs glyphicon @ViewData["glyph-3"]"></p></a></th>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["BudgetSortParm"]">Budget<p class="btn-xs glyphicon @ViewData["glyph-4"]"></p></a></th>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["CurrentBudgetSortParm"]">Current Budget<p class="btn-xs glyphicon @ViewData["glyph-5"]"></p></a></th>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["ApproverIDSortParm"]">Approver<p class="btn-xs glyphicon @ViewData["glyph-6"]"></p></a></th>
                    <th><a asp-action="BM" asp-route-sortOrder="@ViewData["LastBudgetApprovalSortParm"]">Last Budget Approved<p class="btn-xs glyphicon @ViewData["glyph-7"]"></p></a></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.BM_Acc_Code)</td>
                    <td>@Html.DisplayFor(modelItem => item.BM_Acc_Group)</td>
                    <td>@Html.DisplayFor(modelItem => item.BM_Acc_GBase)</td>
                    <td>@Html.DisplayFor(modelItem => item.BM_Budget_Amount)</td>
                    <td>@Html.DisplayFor(modelItem => item.BM_Budget_Current)</td>
                    <td>@Html.DisplayFor(modelItem => item.BM_Budget_Approver_ID)</td>
                    <td>@Html.DisplayFor(modelItem => item.BM_Last_Budget_Approved)</td>
                </tr>
                }
            </tbody>
        </table>
        @{
            var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
            var nextDisabled = !Model.HasNextPage ? "disabled" : "";
        }

        <a asp-action="BM"
           asp-route-sortOrder="@ViewData["CurrentSort"]"
           asp-route-page="@(Model.PageIndex - 1)"
           asp-route-currentFilter="@ViewData["CurrentFilter"]"
           class="btn pagination-btn btn-xs btn-default @prevDisabled glyphicon glyphicon-menu-left">
        </a>
        <input type="text" class="pagination-input" id="paginationInput" val="" />
        <input type="text" class="pagination-input" value="of @(Model.TotalPages)" disabled />
        <a asp-action="BM"
           asp-route-sortOrder="@ViewData["CurrentSort"]"
           asp-route-page="@(Model.PageIndex + 1)"
           asp-route-currentFilter="@ViewData["CurrentFilter"]"
           class="btn pagination-btn btn-default @nextDisabled glyphicon glyphicon-menu-right">
        </a>
        <div class="float-r m-r-10">
            <div class="tbl-btn">Update Budget</div>
        </div>
        @Html.Partial("ModalPartial")
        @*validation message*@
        <div id="ValidationSummary" style="display:none" class="">
            @Html.ValidationSummary(false, "", new { @id = "validationSummary" })
        </div>
    </div>
</div>